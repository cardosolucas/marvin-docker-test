#!/usr/bin/env python
# coding=utf-8

# Copyright [2019] [Apache Software Foundation]
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#    http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

from __future__ import print_function

import sys
import os.path

from marvin_cli.management import create_cli
import marvin_cli as cli
from marvin_cli import __version__ as _VERSION

if not os.getenv("LOG_LEVEL"):
    os.environ["LOG_LEVEL"] = 'INFO'

home = os.environ['HOME']
os.environ.setdefault('SPARK_HOME', '/opt/spark')
os.environ.setdefault('WORKON_HOME', os.path.join(home, '.virtualenvs'))
os.environ.setdefault('MARVIN_HOME', os.path.join(home, 'marvin'))
os.environ.setdefault('MARVIN_DATA_PATH', os.path.join(home, 'marvin/data'))
os.environ.setdefault('PYTHONUNBUFFERED', '1')

marvin_data = os.environ['MARVIN_DATA_PATH']
if not os.path.exists(marvin_data):
    os.makedirs(marvin_data)

cli = create_cli()

cli()

